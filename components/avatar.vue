<template>
	<section class="__avatar bg-opacity-40 w-full max-h-full p-2 flex flex-col items-center gap-1">
		<div class="avatar">
			<div class="w-20 rounded-xl">
				<img
					src="data:image/jpeg;base64,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" />
			</div>
		</div>
		<div v-if="username" class="__username text-sm">@{{ username || 'User' }}</div>
		<div v-if="role" class="__username text-[.6rem] bg-red-600 px-2 rounded-full outline-1 outline-white outline">{{ role
			?
			'ADMIN' :
			'' }}</div>
	</section>
</template>

<script setup lang="ts">
const props = defineProps<{
	username: string | undefined
	role?: boolean
	url?: string
}>()

const src = ref()

onMounted(async () => {
	try {
		let { data, error } = await useNuxtApp().$SB.storage.from('applicants').createSignedUrls([props.url!], 10)
		if (error) throw error

		src.value = data![0].signedUrl
		console.log(data);

	} catch (error) {
		console.log(error);
	}
})
</script>